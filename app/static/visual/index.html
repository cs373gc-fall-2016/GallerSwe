<!DOCTYPE html>
<meta charset="utf-8">
<style>

.node {
  cursor: pointer;
}
.node circle {
  fill: #fff;
  stroke: steelblue;
  stroke-width: 1.5px;
}
.node text {
  font: 10px sans-serif;
}
.link {
  fill: none;
  stroke: #ccc;
  stroke-width: 1.5px;
}

</style>
<body>
<script src="https://d3js.org/d3.v3.js"></script>
<script>

var treeData = [{
  "name": "States",
  "parent": "null",
  "children": [
    {
        "name": "Alabama",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Alabama",
            "children":[
              {
                "name": "2413 ft",
                "parent": "Highest Point"
              }]
            },
            {
            "name": "Total Area (sq mi)",
            "parent": "Alabama",
            "children":[
            {
              "name": "52,419",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Alabama",
            "children":[
            {
              "name": "4,858,979 (2015 est.)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Alabama",
            "children":[
            {
              "name": "Blandon Springs State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Alabama",
            "children":[
            {
              "name": "Runners2life Motivational Races's Event",
              "parent": "Alabama"
            }]
          }
          
         
            ]
    },
    {
        "name": "Alaska",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Alaska",
            "children":[
              {
                "name": "20310 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Alaska",
            "children":[
            {
              "name": "663,268",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Alaska",
            "children":[
            {
              "name": "738,432 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Alaska",
            "children":[
            {
              "name": "Denali National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Alaska",
            "children":[
            {
              "name": "Faith Community School's Event",
              "parent": "Explore An Event"
            }]
          }
          
         ]
    },
    {
        "name": "Arizona",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Arizona",
            "children":[
              {
                "name": "12637 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Arizona",
            "children":[
            {
              "name": "113,990",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Arizona",
            "children":[
            {
              "name": "6,828,065 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Arizona",
            "children":[
            {
              "name": "Grand Canyon National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Arizona",
            "children":[
            {
              "name": "Runners2life Motivational Races's Event",
              "parent": "Explore An Event"
            }]
          }
          
         ]
    },
    {
        "name": "Arkansas",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Arkansas",
            "children":[
              {
                "name": "2753 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Arkansas",
            "children":[
            {
              "name": "53,179",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Arkansas",
            "children":[
            {
              "name": "2,978,204 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Arkansas",
            "children":[
            {
              "name": "Hot Springs National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Arkansas",
            "children":[
            {
              "name": "Runners2life & Runinspirations (3)'s Event",
              "parent": "Arkansas"
            }]
          }
          
         ]
    },
    {
        "name": "California",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"California",
            "children":[
              {
                "name": "14505 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "California",
            "children":[
            {
              "name": "163,696",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "California",
            "children":[
            {
              "name": "39,144,818 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "California",
            "children":[
            {
              "name": "Channel Islands National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "California",
            "children":[
            {
              "name": "Dir Biyabir's Event",
              "parent": "California"
            }]
          }
        ]
    },
    {
        "name": "Colorado",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Colorado",
            "children":[
              {
                "name": "14440 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Colorado",
            "children":[
            {
              "name": "104,094",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Colorado",
            "children":[
            {
              "name": "5,456,574 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Colorado",
            "children":[
            {
              "name": "Black Canyon of the Gunnison National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Colorado",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Colorado"
            }]
          }
        ]
    },
    {
        "name": "Connecticut",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Connecticut",
            "children":[
              {
                "name": "2379 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Connecticut",
            "children":[
            {
              "name": "5,543",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Connecticut",
            "children":[
            {
              "name": "3,590,886 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Connecticut",
            "children":[
            {
              "name": "Haystack Mountain State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Connecticut",
            "children":[
            {
              "name": "Runners2life Motivational Races's Event",
              "parent": "Connecticut"
            }]
          }
        ]
    },
    {
        "name": "Delaware",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Delaware",
            "children":[
              {
                "name": "447.85 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Delaware",
            "children":[
            {
              "name": "1,982",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Delaware",
            "children":[
            {
              "name": "945,934 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Delaware",
            "children":[
            {
              "name": "Alapocas Run State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Delaware",
            "children":[
            {
              "name": "Runners2life & Runinspirations (3)'s Event",
              "parent": "Delaware"
            }]
          }
        ]
    },
    {
        "name": "Florida",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Florida",
            "children":[
              {
                "name": "345 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Florida",
            "children":[
            {
              "name": "65,755",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Florida",
            "children":[
            {
              "name": "20,271,272 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Florida",
            "children":[
            {
              "name": "Biscayne National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Florida",
            "children":[
            {
              "name": "down2earth endurance race's Event",
              "parent": "Florida"
            }]
          }
        ]
    },
    {
        "name": "Georgia",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Georgia",
            "children":[
              {
                "name": "4784 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Georgia",
            "children":[
            {
              "name": "59,425",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Georgia",
            "children":[
            {
              "name": "10,214,860 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Georgia",
            "children":[
            {
              "name": "Nancy Hart State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Georgia",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Georgia"
            }]
          }
        ]
    },
    {
        "name": "Hawaii",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Hawaii",
            "children":[
              {
                "name": "13796 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Hawaii",
            "children":[
            {
              "name": "10,931",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Hawaii",
            "children":[
            {
              "name": "1,431,603 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Hawaii",
            "children":[
            {
              "name": "Haleakala National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Hawaii",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Hawaii"
            }]
          }
        ]
    },
    {
        "name": "Idaho",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Idaho",
            "children":[
              {
                "name": "12662 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Idaho",
            "children":[
            {
              "name": "83,800",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Idaho",
            "children":[
            {
              "name": "1,654,930 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Idaho",
            "children":[
            {
              "name": "Balanced Rock State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Idaho",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Idaho"
            }]
          }
        ]
    },
    {
        "name": "Illinois",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Illinois",
            "children":[
              {
                "name": "1235 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Illinois",
            "children":[
            {
              "name": "57,914",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Illinois",
            "children":[
            {
              "name": "12,859,995 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Illinois",
            "children":[
            {
              "name": "Apple River Canyon State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Illinois",
            "children":[
            {
              "name": "Kennekuk Road Runners's Event",
              "parent": "Illinois"
            }]
          }
        ]
    },
    {
        "name": "Indiana",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Indiana",
            "children":[
              {
                "name": "1257 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Indiana",
            "children":[
            {
              "name": "36,418",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Indiana",
            "children":[
            {
              "name": "6,619,680 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Indiana",
            "children":[
            {
              "name": "Brown County State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Indiana",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Indiana"
            }]
          }
        ]
    },
    {
        "name": "Iowa",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Iowa",
            "children":[
              {
                "name": "1671 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Iowa",
            "children":[
            {
              "name": "56,272.81",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Iowa",
            "children":[
            {
              "name": "3,123,899 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Iowa",
            "children":[
            {
              "name": "Bixby State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Iowa",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Iowa"
            }]
          }
        ]
    },
    {
        "name": "Kansas",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Kansas",
            "children":[
              {
                "name": "Mount Sunflower",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Kansas",
            "children":[
            {
              "name": "82,278",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Kansas",
            "children":[
            {
              "name": "2,911,641 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Kansas",
            "children":[
            {
              "name": "Bourbon County State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Kansas",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Kansas"
            }]
          }
        ]
    },
    {
        "name": "Kentucky",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Kentucky",
            "children":[
              {
                "name": "4515 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Kentucky",
            "children":[
            {
              "name": "40,409",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Kentucky",
            "children":[
            {
              "name": "4,425,092 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Kentucky",
            "children":[
            {
              "name": "Mammoth Cave National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Kentucky",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Kentucky"
            }]
          }
        ]
    },
    {
        "name": "Louisiana",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Louisiana",
            "children":[
              {
                "name": "Driskill Mountain",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Louisiana",
            "children":[
            {
              "name": "50,000",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Louisiana",
            "children":[
            {
              "name": "4,670,724 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Louisiana",
            "children":[
            {
              "name": "Bayou Segnette State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Louisiana",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Louisiana"
            }]
          }
        ]
    },
    {
        "name": "Maine",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Maine",
            "children":[
              {
                "name": "Mount Katahdin",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Maine",
            "children":[
            {
              "name": "35,385",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Maine",
            "children":[
            {
              "name": "1,329,328 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Maine",
            "children":[
            {
              "name": "Acadia National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Maine",
            "children":[
            {
              "name": "RKT Runs's Event",
              "parent": "Maine"
            }]
          }
        ]
    },
    {
        "name": "Maryland",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Maryland",
            "children":[
              {
                "name": "3360 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Maryland",
            "children":[
            {
              "name": "12,407",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Maryland",
            "children":[
            {
              "name": "6,006,401 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Maryland",
            "children":[
            {
              "name": "Assateague State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Maryland",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Maryland"
            }]
          }
        ]
    },
    {
        "name": "Massachusetts",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Massachusetts",
            "children":[
              {
                "name": "3489 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Massachusetts",
            "children":[
            {
              "name": "10,605",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Massachusetts",
            "children":[
            {
              "name": "6,794,422 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Massachusetts",
            "children":[
            {
              "name": "Ames Nowell State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Massachusetts",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Massachusetts"
            }]
          }
        ]
    },
    {
        "name": "Michigan",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Michigan",
            "children":[
              {
                "name": "1979 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Michigan",
            "children":[
            {
              "name": "96,716",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Michigan",
            "children":[
            {
              "name": "9,922,576 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Michigan",
            "children":[
            {
              "name": "Isle Royale National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Michigan",
            "children":[
            {
              "name": "Tri To Finish's Event",
              "parent": "Michigan"
            }]
          }
        ]
    },
    {
        "name": "Minnesota",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Minnesota",
            "children":[
              {
                "name": "Eagle Mountain",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Minnesota",
            "children":[
            {
              "name": "86,939",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Minnesota",
            "children":[
            {
              "name": "5,489,594",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Minnesota",
            "children":[
            {
              "name": "Voyageurs National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Minnesota",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Minnesota"
            }]
          }
        ]
    },
    {
        "name": "Mississippi",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Mississippi",
            "children":[
              {
                "name": "807 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Mississippi",
            "children":[
            {
              "name": "48,430",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Mississippi",
            "children":[
            {
              "name": "2,992,333 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Mississippi",
            "children":[
            {
              "name": "Buccaneer State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Mississippi",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Mississippi"
            }]
          }
        ]
    },
    {
        "name": "Missouri",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Missouri",
            "children":[
              {
                "name": "1772 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Missouri",
            "children":[
            {
              "name": "69,704",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Missouri",
            "children":[
            {
              "name": "6,083,672 (2015 est.)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Missouri",
            "children":[
            {
              "name": "Alley Spring State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Missouri",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Missouri"
            }]
          }
        ]
    },
    {
        "name": "Montana",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Montana",
            "children":[
              {
                "name": "Granite Peak",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Montana",
            "children":[
            {
              "name": "147,040",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Montana",
            "children":[
            {
              "name": "1,032,949",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Montana",
            "children":[
            {
              "name": "Glacier National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Montana",
            "children":[
            {
              "name": "Runners2life Motivational Races's Event",
              "parent": "Montana"
            }]
          }
        ]
    },
    {
        "name": "Nebraska",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Nebraska",
            "children":[
              {
                "name": "5424 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Nebraska",
            "children":[
            {
              "name": "77,358",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Nebraska",
            "children":[
            {
              "name": "1,896,190 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Nebraska",
            "children":[
            {
              "name": "Arbor Lodge State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Nebraska",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Nebraska"
            }]
          }
        ]
    },
    {
        "name": "Nevada",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Nevada",
            "children":[
              {
                "name": "Boundary Peak",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Nevada",
            "children":[
            {
              "name": "110,653",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Nevada",
            "children":[
            {
              "name": "2,890,845",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Nevada",
            "children":[
            {
              "name": "Great Basin National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Nevada",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Nevada"
            }]
          }
        ]
    },
    {
        "name": "New Hampshire",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"New Hampshire",
            "children":[
              {
                "name": "6288 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "New Hampshire",
            "children":[
            {
              "name": "9,349",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "New Hampshire",
            "children":[
            {
              "name": "1,330,608 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "New Hampshire",
            "children":[
            {
              "name": "Bear Brook State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "New Hampshire",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "New Hampshire"
            }]
          }
        ]
    },
    {
        "name": "New Jersey",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"New Jersey",
            "children":[
              {
                "name": "1803 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "New Jersey",
            "children":[
            {
              "name": "8,722.58",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "New Jersey",
            "children":[
            {
              "name": "8,958,013 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "New Jersey",
            "children":[
            {
              "name": "Allaire State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "New Jersey",
            "children":[
            {
              "name": "Runners2life & Runinspirations (3)'s Event",
              "parent": "New Jersey"
            }]
          }
        ]
    },
    {
        "name": "New Mexico",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"New Mexico",
            "children":[
              {
                "name": "Wheeler Peak",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "New Mexico",
            "children":[
            {
              "name": "121,589",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "New Mexico",
            "children":[
            {
              "name": "2,085,109",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "New Mexico",
            "children":[
            {
              "name": "Carlsbad Caverns National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "New Mexico",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "New Mexico"
            }]
          }
        ]
    },
    {
        "name": "New York",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"New York",
            "children":[
              {
                "name": "5344 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "New York",
            "children":[
            {
              "name": "54,555",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "New York",
            "children":[
            {
              "name": "19,795,791 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "New York",
            "children":[
            {
              "name": "Adirondack State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "New York",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "New York"
            }]
          }
        ]
    },
    {
        "name": "North Carolina",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"North Carolina",
            "children":[
              {
                "name": "Mount Mitchell",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "North Carolina",
            "children":[
            {
              "name": "553,819",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "North Carolina",
            "children":[
            {
              "name": "10,042,802",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "North Carolina",
            "children":[
            {
              "name": "Bay Tree Lake State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "North Carolina",
            "children":[
            {
              "name": "5K-9's Event",
              "parent": "North Carolina"
            }]
          }
        ]
    },
    {
        "name": "North Dakota",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"North Dakota",
            "children":[
              {
                "name": "White Butte",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "North Dakota",
            "children":[
            {
              "name": "70,698",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "North Dakota",
            "children":[
            {
              "name": "756,927",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "North Dakota",
            "children":[
            {
              "name": "Theodore Roosevelt National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "North Dakota",
            "children":[
            {
              "name": "Kybiru's Event",
              "parent": "North Dakota"
            }]
          }
        ]
    },
    {
        "name": "Ohio",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Ohio",
            "children":[
              {
                "name": "1549 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Ohio",
            "children":[
            {
              "name": "44,825",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Ohio",
            "children":[
            {
              "name": "11,613,423 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Ohio",
            "children":[
            {
              "name": "Cuyahoga Valley National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Ohio",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Ohio"
            }]
          }
        ]
    },
    {
        "name": "Oklahoma",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Oklahoma",
            "children":[
              {
                "name": "Black Mesa",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Oklahoma",
            "children":[
            {
              "name": "69,899",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Oklahoma",
            "children":[
            {
              "name": "3,911,338",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Oklahoma",
            "children":[
            {
              "name": "Alabaster Caverns State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Oklahoma",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Oklahoma"
            }]
          }
        ]
    },
    {
        "name": "Oregon",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Oregon",
            "children":[
              {
                "name": "11249 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Oregon",
            "children":[
            {
              "name": "98,381",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Oregon",
            "children":[
            {
              "name": "4,028,977 (2015 est.)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Oregon",
            "children":[
            {
              "name": "Crater Lake National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Oregon",
            "children":[
            {
              "name": "X-Dog Events's Event",
              "parent": "Oregon"
            }]
          }
        ]
    },
    {
        "name": "Pennsylvania",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Pennsylvania",
            "children":[
              {
                "name": "3213 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Pennsylvania",
            "children":[
            {
              "name": "46,055",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Pennsylvania",
            "children":[
            {
              "name": "12,802,503 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Pennsylvania",
            "children":[
            {
              "name": "Archbald Pothole State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Pennsylvania",
            "children":[
            {
              "name": "Rootstock Racing's Event",
              "parent": "Pennsylvania"
            }]
          }
        ]
    },
    {
        "name": "Rhode Island",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Rhode Island",
            "children":[
              {
                "name": "812 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Rhode Island",
            "children":[
            {
              "name": "1,214",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Rhode Island",
            "children":[
            {
              "name": "1,056,298 (2015 est.)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Rhode Island",
            "children":[
            {
              "name": "Beavertail State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Rhode Island",
            "children":[
            {
              "name": "Runners2life & Runinspirations (3)'s Event",
              "parent": "Rhode Island"
            }]
          }
        ]
    },
    {
        "name": "South Carolina",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"South Carolina",
            "children":[
              {
                "name": "3560 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "South Carolina",
            "children":[
            {
              "name": "32,020",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "South Carolina",
            "children":[
            {
              "name": "4,896,146 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "South Carolina",
            "children":[
            {
              "name": "Congaree National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "South Carolina",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "South Carolina"
            }]
          }
        ]
    },
    {
        "name": "South Dakota",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"South Dakota",
            "children":[
              {
                "name": "Black Elk Peak",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "South Dakota",
            "children":[
            {
              "name": "78,116",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "South Dakota",
            "children":[
            {
              "name": "858,469",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "South Dakota",
            "children":[
            {
              "name": "Badlands National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "South Dakota",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "South Dakota"
            }]
          }
        ]
    },
    {
        "name": "Tennessee",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Tennessee",
            "children":[
              {
                "name": "6643 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Tennessee",
            "children":[
            {
              "name": "42,143",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Tennessee",
            "children":[
            {
              "name": "6,600,299 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Tennessee",
            "children":[
            {
              "name": "Great Smoky Mountains National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Tennessee",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Tennessee"
            }]
          }
        ]
    },
    {
        "name": "Texas",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Texas",
            "children":[
              {
                "name": "8751 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Texas",
            "children":[
            {
              "name": "268,581",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Texas",
            "children":[
            {
              "name": "27,469,114 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Texas",
            "children":[
            {
              "name": "Big Bend National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Texas",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Texas"
            }]
          }
        ]
    },
    {
        "name": "Utah",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Utah",
            "children":[
              {
                "name": "13518 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Utah",
            "children":[
            {
              "name": "84,899",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Utah",
            "children":[
            {
              "name": "2,995,919 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Utah",
            "children":[
            {
              "name": "Arches National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Utah",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Utah"
            }]
          }
        ]
    },
    {
        "name": "Vermont",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Vermont",
            "children":[
              {
                "name": "Mount Mansfield",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Vermont",
            "children":[
            {
              "name": "9616",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Vermont",
            "children":[
            {
              "name": "626,042",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Vermont",
            "children":[
            {
              "name": "Allis State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Vermont",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Vermont"
            }]
          }
        ]
    },
    {
        "name": "Virginia",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Virginia",
            "children":[
              {
                "name": "5729 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Virginia",
            "children":[
            {
              "name": "42,774.2",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Virginia",
            "children":[
            {
              "name": "8,382,993 (2015 est)2",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Virginia",
            "children":[
            {
              "name": "Shenandoah National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Virginia",
            "children":[
            {
              "name": "Moon Joggers's Event",
              "parent": "Virginia"
            }]
          }
        ]
    },
    {
        "name": "Washington",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Washington",
            "children":[
              {
                "name": "14411 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Washington",
            "children":[
            {
              "name": "71,362",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Washington",
            "children":[
            {
              "name": "7,170,351 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Washington",
            "children":[
            {
              "name": "Mount Rainier National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Washington",
            "children":[
            {
              "name": "Stinky Spoke's Event",
              "parent": "Washington"
            }]
          }
        ]
    },
    {
        "name": "West Virginia",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"West Virginia",
            "children":[
              {
                "name": "4863 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "West Virginia",
            "children":[
            {
              "name": "24,230",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "West Virginia",
            "children":[
            {
              "name": "1,844,128 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "West Virginia",
            "children":[
            {
              "name": "Audra State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "West Virginia",
            "children":[
            {
              "name": "City of Bluefield Parks and Recreation's Event",
              "parent": "West Virginia"
            }]
          }
        ]
    },
    {
        "name": "Wisconsin",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Wisconsin",
            "children":[
              {
                "name": "Timms Hill",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Wisconsin",
            "children":[
            {
              "name": "65,498",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Wisconsin",
            "children":[
            {
              "name": "5,771,337",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Wisconsin",
            "children":[
            {
              "name": "Aztalan State Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Wisconsin",
            "children":[
            {
              "name": "Mainly Marathons's Event",
              "parent": "Wisconsin"
            }]
          }
        ]
    },
    {
        "name": "Wyoming",
        "parent": "States",
        "children":[
          {
            "name": "Highest Point",
            "parent":"Wyoming",
            "children":[
              {
                "name": "13809 ft",
                "parent": "Highest Point"
              }]
          },
          {
            "name": "Total Area (sq mi)",
            "parent": "Wyoming",
            "children":[
            {
              "name": "97,914",
              "parent": "Total Area (sq mi)"
            }]
          },
          {
            "name": "Population",
            "parent": "Wyoming",
            "children":[
            {
              "name": "586,107 (2015 est)",
              "parent": "Population"
            }]
          },
          {
            "name": "Explore A Park",
            "parent": "Wyoming",
            "children":[
            {
              "name": "Grand Teton National Park",
              "parent": "Explore A Park"
            }]
          },
          {
            "name": "Explore An Event",
            "parent": "Wyoming",
            "children":[
            {
              "name": "Runners2life & Runinspirations (3)'s Event",
              "parent": "Wyoming"
            }]
          }
        ]
    }
  ] 
}]

// ************** Generate the tree diagram  *****************
var margin = {top: 20, right: 120, bottom: 20, left: 120},
  width = 960 - margin.right - margin.left,
  height = 500 - margin.top - margin.bottom;

var i = 0,
  duration = 750,
  root;

var tree = d3.layout.tree()
  .size([height, width]);

var diagonal = d3.svg.diagonal()
  .projection(function(d) { return [d.y, d.x]; });

var svg = d3.select("body").append("svg")
  .attr("width", width + margin.right + margin.left)
  .attr("height", height + margin.top + margin.bottom)
  .append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

root = treeData[0];
root.x0 = height / 2;
root.y0 = 0;

function collapse(d) {
    if (d.children) {
      d._children = d.children;
      d._children.forEach(collapse);
      d.children = null;
    }
  }
  root.children.forEach(collapse);
  update(root);


d3.select(self.frameElement).style("height", "800px");

function update(source) {

  // Compute the new tree layout.
  var nodes = tree.nodes(root).reverse(),
    links = tree.links(nodes);

  // Normalize for fixed-depth.
  nodes.forEach(function(d) { d.y = d.depth * 180; });

  // Update the nodes
  var node = svg.selectAll("g.node")
    .data(nodes, function(d) { return d.id || (d.id = ++i); });

  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("g")
    .attr("class", "node")
    .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
    .on("click", click);

  nodeEnter.append("circle")
    .attr("r", 1e-6)
    .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeEnter.append("text")
    .attr("x", function(d) { return d.children || d._children ? -10 : 10; })
    .attr("dy", ".35em")
    .attr('color', 'white')
    .attr("text-anchor", function(d) { return d.children || d.children ? "end" : "start"; })
    .text(function(d) { return d.name; })
    .style("fill-opacity", 1e-6);

  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
    .duration(duration)
    .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

  nodeUpdate.select("circle")
    .attr("r", 4.5)
    .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeUpdate.select("text")
    .style("fill-opacity", 1);

  // Transition exiting nodes to the parent's new position.
  var nodeExit = node.exit().transition()
    .duration(duration)
    .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
    .remove();

  nodeExit.select("circle")
    .attr("r", 1e-6);

  nodeExit.select("text")
    .style("fill-opacity", 1e-6);

  // Update the links
  var link = svg.selectAll("path.link")
    .data(links, function(d) { return d.target.id; });

  // Enter any new links at the parent's previous position.
  link.enter().insert("path", "g")
    .attr("class", "link")
    .attr("d", function(d) {
    var o = {x: source.x0, y: source.y0};
    return diagonal({source: o, target: o});
    });

  // Transition links to their new position.
  link.transition()
    .duration(duration)
    .attr("d", diagonal);

  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
    .duration(duration)
    .attr("d", function(d) {
    var o = {x: source.x, y: source.y};
    return diagonal({source: o, target: o});
    })
    .remove();

  // Stash the old positions for transition.
  nodes.forEach(function(d) {
  d.x0 = d.x;
  d.y0 = d.y;
  });
}

// Toggle children on click.
function click(d) {
  if (d.children) {
  d._children = d.children;
  d.children = null;
  } else {
  d.children = d._children;
  d._children = null;
  }
  update(d);
}

</script>
